<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Reviews - Aa'In Chocolates</title>

<link rel="icon" type="image/png" href="favicon.png">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<!-- ================== CSS ================== -->
<style>
  :root {
    --pink-light: #ffe6f0;
    --pink: #f8c6dc;
    --pink-dark: #e75480;
    --white: #ffffff;
    --text-dark: #2c2c2c;
  }
  * { box-sizing:border-box; margin:0; padding:0; }
  body {
    font-family:'Montserrat',sans-serif;
    background:var(--white);
    color:var(--text-dark);
    line-height:1.5;
    scroll-behavior:smooth;
  }

  /* ===== Navbar ===== */
  header {
    position:sticky;
    top:0;
    background:linear-gradient(90deg, var(--pink-light), var(--white));
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:0.5rem 2rem;
    box-shadow:0 2px 6px rgba(0,0,0,0.1);
    z-index:10;
  }
  header .logo img { height:40px; width:auto; }
  nav a {
    margin-left:20px;
    text-decoration:none;
    color:var(--text-dark);
    font-weight:600;
    transition:color .3s;
  }
  nav a:hover,
  nav a.active { color:var(--pink-dark); }

  /* ===== Hero ===== */
  .hero {
    background:linear-gradient(rgba(232,84,128,0.55),rgba(255,230,240,0.65)),
               url("https://via.placeholder.com/1200x400") no-repeat center/cover;
    color:var(--white);
    text-align:center;
    padding:4rem 2rem;
  }
  .hero h1 {
    font-family:'Playfair Display',serif;
    font-size:42px;
    margin-bottom:10px;
  }

  /* ===== Review Form ===== */
  .review-form {
    max-width:700px;
    margin:3rem auto;
    background:var(--pink-light);
    padding:2rem;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
  }
  .review-form h2 {
    text-align:center;
    color:var(--pink-dark);
    font-family:'Playfair Display',serif;
    margin-bottom:1rem;
  }
  .review-form label { font-weight:600; display:block; margin:10px 0 5px; }
  .review-form input,
  .review-form textarea {
    width:100%;
    padding:10px;
    border:1px solid #ccc;
    border-radius:8px;
    margin-bottom:1rem;
  }
  .review-form textarea { resize:vertical; min-height:100px; }

  .stars { display:flex; gap:5px; margin-bottom:1rem; cursor:pointer; }
  .star {
    font-size:28px;
    color:#ccc;
    transition: color 0.3s ease, transform 0.2s ease;
  }
  .star.hover { color:gold; transform:scale(1.15); }
  .star.selected { color:gold; }

  .btn {
    display:inline-block;
    background:var(--pink-dark);
    color:var(--white);
    padding:12px 24px;
    border-radius:30px;
    text-decoration:none;
    border:none;
    cursor:pointer;
    font-size:15px;
    font-weight:600;
    transition:background .3s;
  }
  .btn:hover { background:#b93a63; }

  /* ===== Reviews List ===== */
  .reviews-list {
    max-width:900px;
    margin:3rem auto;
    display:grid;
    gap:1.5rem;
  }
  .review-card {
    background:var(--pink-light);
    border-radius:16px;
    padding:1.5rem;
    display:flex;
    gap:1rem;
    align-items:flex-start;
    box-shadow:0 2px 10px rgba(0,0,0,0.1);
  }
  .review-card img {
    width:90px;
    height:90px;
    object-fit:cover;
    border-radius:12px;
    flex-shrink:0;
  }
  .review-content { flex:1; }
  .review-content h3 {
    margin-bottom:5px;
    font-family:'Playfair Display',serif;
    color:var(--pink-dark);
  }
  .review-content .stars-display { color:gold; margin-bottom:8px; }
  .review-content p { font-size:14px; }

  /* ===== Footer ===== */
  footer {
    background:var(--pink-dark);
    color:var(--white);
    text-align:center;
    padding:1.5rem;
    margin-top:3rem;
  }
  footer nav { margin-top:1rem; }
  footer nav a {
    color:var(--white);
    margin:0 10px;
    text-decoration:none;
    font-size:14px;
  }
  footer nav a:hover { text-decoration:underline; }
</style>
</head>
<body>

<!-- Navbar -->
<header>
  <a href="index.html" class="logo"><img src="https://via.placeholder.com/120x40?text=Logo" alt="Aa'In Logo"></a>
  <nav>
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="reviews.html" class="active">Reviews</a>
    <a href="cart.html">Cart</a>
    <a href="contact.html">Contact</a>
    <a href="gallery.html">Gallery</a>
  </nav>
</header>

<!-- Hero -->
<section class="hero">
  <h1>Customer Reviews</h1>
  <p>Share your experience with Aa'In Chocolates</p>
</section>

<!-- Review Form -->
<section class="review-form">
  <h2>Leave a Review</h2>
  <form id="reviewForm">
    <label for="name">Your Name</label>
    <input type="text" id="name" required>

    <label for="image">Upload Product Image (optional)</label>
    <input type="file" id="image" accept="image/*">

    <label>Rating</label>
    <div class="stars" id="starRating">
      <span class="star" data-value="1">&#9733;</span>
      <span class="star" data-value="2">&#9733;</span>
      <span class="star" data-value="3">&#9733;</span>
      <span class="star" data-value="4">&#9733;</span>
      <span class="star" data-value="5">&#9733;</span>
    </div>

    <label for="review">Your Review</label>
    <textarea id="review" required></textarea>

    <button type="submit" class="btn">Submit Review</button>
  </form>
</section>

<!-- Reviews List -->
<section class="reviews-list" id="reviewsList">
  <!-- Reviews will appear here -->
</section>

<!-- Footer -->
<footer>
  &copy; 2025 Aa'In Chocolates. All Rights Reserved.
  <nav>
    <a href="terms.html">Terms of Service</a> | 
    <a href="refund.html">Refund Policy</a> | 
    <a href="privacy.html">Privacy Policy</a> | 
    <a href="csr.html">Corporate Social Responsibility</a>
  </nav>
</footer>

<!-- ================== JavaScript ================== -->
<script>
(function(){
  const form = document.getElementById("reviewForm");
  const starRating = document.getElementById("starRating");
  const stars = starRating.querySelectorAll(".star");
  const reviewsList = document.getElementById("reviewsList");
  let selectedRating = 0;

  // Load reviews from localStorage
  function getReviews(){
    return JSON.parse(localStorage.getItem("reviews") || "[]");
  }
  function saveReviews(reviews){
    localStorage.setItem("reviews", JSON.stringify(reviews));
  }

  // Display reviews
  function renderReviews(){
    reviewsList.innerHTML = "";
    const reviews = getReviews();
    reviews.forEach(r=>{
      const card = document.createElement("div");
      card.className = "review-card";

      if(r.image){
        const img = document.createElement("img");
        img.src = r.image;
        card.appendChild(img);
      }

      const content = document.createElement("div");
      content.className = "review-content";
      content.innerHTML = `
        <h3>${r.name}</h3>
        <div class="stars-display">${"&#9733;".repeat(r.rating)}</div>
        <p>${r.text}</p>
      `;
      card.appendChild(content);
      reviewsList.prepend(card);
    });
  }

  // Star rating logic
  stars.forEach(star=>{
    star.addEventListener("mouseover", ()=>{
      stars.forEach(s=> s.classList.remove("hover"));
      for(let i=0;i<star.dataset.value;i++){
        stars[i].classList.add("hover");
      }
    });
    star.addEventListener("mouseout", ()=>{
      stars.forEach(s=> s.classList.remove("hover"));
    });
    star.addEventListener("click", ()=>{
      selectedRating = parseInt(star.dataset.value);
      stars.forEach(s=> s.classList.remove("selected"));
      for(let i=0;i<selectedRating;i++){
        stars[i].classList.add("selected");
      }
    });
  });

  // Handle form submit
  form.addEventListener("submit", e=>{
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const text = document.getElementById("review").value.trim();
    const fileInput = document.getElementById("image");
    if(!selectedRating || !name || !text) return alert("Please complete all required fields.");

    let newReview = { name, rating:selectedRating, text, image:null };

    if(fileInput.files && fileInput.files[0]){
      const reader = new FileReader();
      reader.onload = function(evt){
        newReview.image = evt.target.result;
        saveAndRender(newReview);
      }
      reader.readAsDataURL(fileInput.files[0]);
    } else {
      saveAndRender(newReview);
    }

    form.reset();
    selectedRating = 0;
    stars.forEach(s=> s.classList.remove("selected"));
  });

  function saveAndRender(review){
    const reviews = getReviews();
    reviews.push(review);
    saveReviews(reviews);
    renderReviews();
  }

  // Initial render
  renderReviews();
})();
</script>
</body>
</html>
